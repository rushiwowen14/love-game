<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>萧逸互动剧情</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: hidden; /* 禁止滚动 */
    background: none;
  }

  /* 背景层 */
  #background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("xiao.jpg");
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    z-index: -10; /* 背景永远在最下层 */
  }

  /* 剧情文本 */
#story {
  position: absolute;
  top: 25%;                 /* 往下移动，让背景人物露出来 */
  width: 90%;
  left: 50%;
  transform: translateX(-50%);
  color: white;             
  font-size: 20px;          /* 稍微小一点，更优雅 */
  font-weight: bold;        
  line-height: 1.8;
  text-align: center;
  z-index: 1;
  text-shadow: 
    2px 2px 4px rgba(0,0,0,0.7),
    -2px -2px 4px rgba(0,0,0,0.7),
    2px -2px 4px rgba(0,0,0,0.7),
    -2px 2px 4px rgba(0,0,0,0.7);
}



  /* 按钮容器 */
  #choices {
    position: absolute;
    bottom: 15%;
    width: 100%;
    text-align: center;
    z-index: 1;
  }

  button {
    padding: 10px 20px;
    margin: 10px;
    font-size: 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background-color: rgba(255, 255, 255, 0.8);
  }

  button:hover {
    background-color: rgba(255, 255, 255, 1);
  }
</style>
</head>
<body>

<!-- 背景 -->
<div id="background"></div>

<!-- 剧情文本 -->
<div id="story">
    争吵之后，你挂断了萧逸的电话。  
    夜晚很安静，你回到家，情绪却还在翻涌。  
    手机突然又响了。
</div>

<!-- 按钮选择 -->
<div id="choices">
    <button onclick="answerCall()">接电话</button>
    <button onclick="ignoreCall()">不接</button>
</div>

<!-- 背景音乐 -->
<audio id="bgm" src="xiao.mp3" loop preload="auto"></audio>

<script>
const bgm = document.getElementById("bgm");

// 第一次点击剧情按钮播放音乐
function playBgm() {
  if (bgm.paused) {
    bgm.play().catch(() => {});
  }
}

function answerCall() {
    playBgm();
    document.getElementById("story").innerHTML =
        "听筒那头传来熟悉的声音。<br><br>" +
        "萧逸低声说：'对不起……可以往窗外看看吗？'";

    document.getElementById("choices").innerHTML =
        "<button onclick='lookOutside()'>看</button>" +
        "<button onclick='dontLook()'>不看</button>";
}

function ignoreCall() {
    playBgm();
    document.getElementById("story").innerHTML =
        "电话停止了。<br><br>" +
        "你看着黑掉的屏幕，心里更空了一点。";

    document.getElementById("choices").innerHTML =
        "<button onclick='restart()'>重新开始</button>";
}

function lookOutside() {
    document.getElementById("story").innerHTML =
        "你走到窗边。<br><br>" +
        "楼下路灯下，他站在那里。<br>" +
        "电话里传来他有些试探的声音：<br><br>" +
        "'愿意下楼让我见见你吗？'";

    document.getElementById("choices").innerHTML =
        "<button onclick='goDown()'>下楼</button>" +
        "<button onclick='stayHome()'>不下楼</button>";
}

function dontLook() {
    document.getElementById("story").innerHTML =
        "你沉默着，没有走向窗边。<br><br>" +
        "电话那头的呼吸声停顿了一瞬。";

    document.getElementById("choices").innerHTML =
        "<button onclick='restart()'>重新开始</button>";
}

function goDown() {
    document.getElementById("story").innerHTML =
        "你走到他面前。<br><br>" +
        "萧逸看着你，声音很轻：'对不起。'<br><br>" +
        "你问：'为什么道歉？'<br><br>" +
        "他回答：'因为我不想和你就这么算了。'";

    document.getElementById("choices").innerHTML =
        "<button onclick='restart()'>重新开始</button>";
}

function stayHome() {
    document.getElementById("story").innerHTML =
        "你没有下楼。<br><br>" +
        "他在楼下站了很久，直到灯光变冷。";

    document.getElementById("choices").innerHTML =
        "<button onclick='restart()'>重新开始</button>";
}

function restart() {
    location.reload();
}
</script>

</body>
</html>
